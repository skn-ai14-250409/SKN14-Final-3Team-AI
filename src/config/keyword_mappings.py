"""
동적 키워드 매핑 설정 파일

하드코딩 대신 설정 파일을 통해 키워드 매핑을 관리
새로운 상품이나 용어가 추가되어도 코드 수정 없이 설정만 변경하면 됨
"""

# 패턴 기반 키워드 확장 규칙
EXPANSION_PATTERNS = {
    # 대출 관련 패턴
    r'.*대출.*': ['대출', '신용', '자금', '융자'],
    r'.*론.*': ['대출', '신용', '자금'],
    r'.*신용.*': ['신용', '대출', '자금'],
    
    # 협약/상생 관련 패턴
    r'.*협약.*': ['협약', '계약', '약정', '합의'],
    r'.*상생.*': ['상생', '협력', '동반', '상호'],
    r'.*동반성장.*': ['동반성장', '상생', '협력', '상호발전'],
    
    # 상품 유형별 패턴
    r'.*스마트.*': ['스마트', '디지털', '온라인', 'IT'],
    r'.*닥터.*': ['닥터', '의료', '건강', '치료'],
    r'.*햇살.*': ['햇살', '희망', '복지', '지원'],
    r'.*미래.*': ['미래', '장기', '투자', '계획'],
    r'.*청년.*': ['청년', '신규', '신입', '취업'],
    
    # 금융 용어 패턴
    r'.*담보.*': ['담보', '보증', '담당', '보장'],
    r'.*전세.*': ['전세', '부동산', '임대', '주택'],
    r'.*주택.*': ['주택', '부동산', '아파트', '빌라'],
    r'.*자동차.*': ['자동차', '차량', '운송', '모빌리티'],
    
    # 기업 관련 패턴
    r'.*기업.*': ['기업', '회사', '법인', '사업체'],
    r'.*중소기업.*': ['중소기업', '소상공인', '영세업체'],
    r'.*스타트업.*': ['스타트업', '창업', '신생기업'],
}

# 유사어/동의어 매핑
SYNONYM_MAPPINGS = {
    '대출': ['자금', '신용', '융자', '차입'],
    '상품': ['서비스', '제품', '상품', '솔루션'],
    '조건': ['요건', '기준', '자격', '필수사항'],
    '금리': ['이자', '수익률', '요율', '이율'],
    '한도': ['제한', '범위', '상한', '최대'],
    '기간': ['기한', '기수', '만기', '기한'],
    '신청': ['접수', '지원', '신청', '출원'],
    '승인': ['허가', '인가', '승인', '허용'],
    '심사': ['검토', '심의', '심사', '평가'],
    '서류': ['문서', '증빙', '자료', '서류'],
}

# 금융 도메인 특화 키워드
FINANCIAL_TERMS = {
    '금융': ['금융', '은행', '금융기관', '금융서비스'],
    '계좌': ['계좌', '통장', '예금', '적금'],
    '카드': ['카드', '신용카드', '체크카드', '결제'],
    '보험': ['보험', '보장', '보상', '가입'],
    '투자': ['투자', '펀드', '증권', '자산관리'],
    '외환': ['외환', '환율', '해외송금', '국제금융'],
}

# 상품 카테고리별 키워드
PRODUCT_CATEGORIES = {
    '대출상품': ['대출', '신용', '자금', '융자', '론'],
    '예금상품': ['예금', '적금', '정기', '자유', '통장'],
    '카드상품': ['카드', '신용카드', '체크카드', '결제'],
    '보험상품': ['보험', '보장', '보상', '가입'],
    '투자상품': ['투자', '펀드', '증권', '자산관리'],
    '외환상품': ['외환', '환율', '해외송금', '국제금융'],
}

# 키워드 가중치 (중요도에 따른 점수)
KEYWORD_WEIGHTS = {
    # 핵심 키워드 (높은 가중치)
    '대출': 1.0,
    '신용': 1.0,
    '자금': 1.0,
    '상품': 1.0,
    
    # 상품명 키워드 (중간 가중치)
    '동반성장': 0.8,
    '상생': 0.8,
    '스마트': 0.8,
    '닥터': 0.8,
    '햇살': 0.8,
    
    # 일반 키워드 (낮은 가중치)
    '조건': 0.6,
    '금리': 0.6,
    '한도': 0.6,
    '기간': 0.6,
}

def get_expansion_patterns():
    """확장 패턴 반환"""
    return EXPANSION_PATTERNS

def get_synonym_mappings():
    """유사어 매핑 반환"""
    return SYNONYM_MAPPINGS

def get_financial_terms():
    """금융 용어 반환"""
    return FINANCIAL_TERMS

def get_product_categories():
    """상품 카테고리 반환"""
    return PRODUCT_CATEGORIES

def get_keyword_weights():
    """키워드 가중치 반환"""
    return KEYWORD_WEIGHTS

def add_custom_pattern(pattern: str, keywords: list):
    """사용자 정의 패턴 추가"""
    EXPANSION_PATTERNS[pattern] = keywords

def add_custom_synonym(keyword: str, synonyms: list):
    """사용자 정의 유사어 추가"""
    SYNONYM_MAPPINGS[keyword] = synonyms
